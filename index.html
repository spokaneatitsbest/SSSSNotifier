<head>
  <title>
  Stand Still Stay Silent Update Checker
  </title>
</head>
  
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>
<script src="https://ajax.aspnetcdn.com/ajax/jQuery/jquery-3.3.1.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/js-cookie@2/src/js.cookie.min.js"></script>








<input type=text id=txt>
<button onclick=start()>start testing</button>

<img id=img src="https://sssscomic.com/comicpages/100.jpg" onerror=getAgain(); onload="done();" width=10px height=10px>

</div>

<script>
  
function notification_api(comicNum) {
  if (!Notification) {
    alert('Notification!'); 
    return;
  }

  if (Notification.permission !== "granted")
    Notification.requestPermission();

  var notification = new Notification(comicNum, {
    icon: 'https://c.disquscdn.com/uploads/forums/283/2042/avatar92.jpg?1392836164',
    body: "",
  });

  notification.onclick = function () {
    window.open("http://sssscomic.com/comic.php");      
  };
}

function date() {
	  var currentdate = new Date(); 
var datetime = currentdate.getDate() + "/"
                + (currentdate.getMonth()+1)  + "/" 
                + currentdate.getFullYear() + " @ "  
                + currentdate.getHours() + ":"  
                + currentdate.getMinutes() + ":" 
                + currentdate.getSeconds();
				return datetime;
}

var num1;
if (Cookies.get('Latest') !== null) {
	num1 = Cookies.get('Latest');
	
} else {

num1 = prompt("current comic number?")
Cookies.set('Latest', num1);
start();
}
    
function start() {
  console.log(date());
  document.getElementById('img').src = 'https://sssscomic.com/comicpages/' + num1 + '.jpg';

}
  
async function getAgain() {
 await sleep(300000);
console.log(date() + " loaded");
 document.getElementById("img").src = document.getElementById("img").src;
}

   
function done() {
 var comic = num1;
 num1 = num1++;
 Cookies.set('Latest', num1);
 notification_api(comic);
 start();
}


function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}



</script>
