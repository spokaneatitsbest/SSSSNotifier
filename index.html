<script>
  
  function notification_api(comicNum) {
  if (!Notification) {
    alert('Notification!'); 
    return;
  }

  if (Notification.permission !== "granted")
    Notification.requestPermission();

  var notification = new Notification(comicNum, {
    icon: 'https://c.disquscdn.com/uploads/forums/283/2042/avatar92.jpg?1392836164',
    body: "",
  });

  notification.onclick = function () {
    window.open("http://sssscomic.com/comic.php");      
  };
}

</script>








<input type=text id=txt>
<button onclick=start()>start testing</button>

<img id=img src="https://sssscomic.com/comicpages/100.jpg" onerror=getAgain(); onload="done();" width=10px height=10px>
</div>

<script>
function start() {
  document.getElementById('img').src = 'https://sssscomic.com/comicpages/' + document.getElementById('txt').value + '.jpg';
}
async function getAgain() {
 await sleep(300000);
  document.getElementById("img").src = document.getElementById("img").src;
  console.log("loaded");
}
var url = 'https://sssscomic.com/comicpages/' + document.getElementById('txt').value + '.jpg';

   
function done() {
 var comic = document.getElementById('txt').value;
   notification_api(comic);
}
function sleep(ms) {
  return new Promise(resolve => setTimeout(resolve, ms));
}

async function testalert() {
  await sleep(300000);
  alert("test"); 
  
  
 
}

</script>
